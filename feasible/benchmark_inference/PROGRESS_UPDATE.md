# Benchmark Progress Update

**Time:** 2026-01-23 23:10 UTC
**Status:** Video-LLaVA Phase 63% Complete

## Current Progress

### Video-LLaVA Phase
- **Samples completed:** 126/200 (63%)
- **Elapsed time:** ~6min 50sec
- **Average per-sample:** 3.22s
- **Current sample timing:** S1=0.855s | S2=0.068s | S3=0.000s | S4=2.305s
- **Estimated remaining:** ~4 minutes
- **ETA for completion:** ~23:14 UTC

### Benchmark Phases Timeline
1. âœ… **Warmup (2 samples):** Completed (~7 seconds)
2. ğŸ”„ **Video-LLaVA inference (200 samples):** 126/200 (63% done)
3. â³ **EventGPT inference (200 samples):** Pending
4. â³ **Analysis & reporting:** Pending

---

## Observed Timing Patterns (from 126 samples)

### Video-LLaVA Stage Distribution
```
Stage 1 (Load MP4):         0.70-0.86s  (22-27% of total)
Stage 2 (Preprocess):       0.06-0.07s  (2% of total)
Stage 3 (Vision):           0.00s       (0%, fused in Stage 4)
Stage 4 (LLM Decode):       1.41-2.30s  (71% of total)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total per sample:           ~3.22s average
```

**Key observation:** Stage 4 (LLM decoding) consistently dominates, accounting for ~71% of the total time. Stage 1 (MP4 loading) is the second bottleneck at ~25%.

### Variability Analysis
- **Stage 1 variance:** High (0.70-0.86s) - MP4 codec variability
- **Stage 2 variance:** Low (0.06-0.07s) - stable preprocessing
- **Stage 4 variance:** Moderate (1.41-2.30s) - depends on output length

---

## Extrapolated Results

### Video-LLaVA Completion (estimated)
- **Remaining samples:** 74
- **Remaining time:** ~4:00 minutes
- **Total time for 200 samples:** ~11:00 minutes
- **Total tokens generated:** ~20,480 tokens (200 Ã— 102.4 avg)

### EventGPT Phase (projected)
- **Expected duration:** 200 samples Ã— 1.0s â‰ˆ 3-4 minutes
- **Expected total tokens:** ~9,100 tokens (200 Ã— 45.5 avg)

### Overall Benchmark (projected)
- **Total wall-clock time:** 14-15 minutes
- **Video-LLaVA tokens:** ~20,480
- **EventGPT tokens:** ~9,100
- **Token reduction:** 56% fewer tokens with EventGPT

---

## Detailed Sample Data (Latest Samples)

### Recent Video-LLaVA samples (121-126)
| Sample | S1 (Load) | S2 (Proc) | S3 (Vis) | S4 (Gen) | Total | Tokens |
|--------|-----------|-----------|----------|----------|-------|--------|
| 121    | 0.712s    | 0.068s    | 0.000s   | 2.356s   | 3.136s| ~102   |
| 122    | 0.744s    | 0.067s    | 0.000s   | 2.274s   | 3.085s| ~102   |
| 123    | 0.701s    | 0.070s    | 0.000s   | 1.779s   | 2.550s| ~101   |
| 124    | 0.688s    | 0.066s    | 0.000s   | 2.015s   | 2.769s| ~102   |
| 125    | 0.730s    | 0.067s    | 0.000s   | 1.905s   | 2.702s| ~102   |
| 126    | 0.855s    | 0.068s    | 0.000s   | 2.305s   | 3.230s| ~102   |

**Pattern:** Consistent token count (~102-103) with variable Stage 1 times (0.69-0.85s).

---

## Document Summary

### Files Created This Session

1. âœ… **benchmark_inference_4stages.py** - Main benchmark with 4-stage timing
2. âœ… **benchmark_inference_3stages.py** - Previous version for reference
3. âœ… **STAGE_DATA_FORMATS.md** - Complete I/O format documentation
4. âœ… **BENCHMARK_ANALYSIS_SUMMARY.md** - Comprehensive analysis
5. âœ… **PROGRESS_UPDATE.md** - This file (real-time updates)

### Expected Output Files
- **EventGPT_Instruction_Subset_results_n200_20260123_HHMMSS.json**
  - Contains detailed per-sample metrics
  - Includes datetime stamps
  - Full 4-stage timing breakdown

---

## Key Findings (So Far)

### 1. MP4 Decoding Bottleneck
- **Stage 1 average:** 0.73-0.86s per sample
- **Variance:** High (Â±0.1s)
- **Root cause:** Video codec decompression + frame extraction
- **Solution:** Pre-decode or cache frames

### 2. Consistent Token Generation
- **Average tokens:** 102.4 per sample
- **Variance:** Very low (Â±1 token)
- **Speed:** 24.7ms per token
- **Stage 4 time:** ~2.5s total per sample

### 3. Preprocessing Efficiency
- **Stage 2 time:** 0.067s (constant)
- **Represents:** 2% of total time
- **Conclusion:** Not a bottleneck

---

## Next Checkpoint

**ğŸ“ Estimated next update:** ~23:14 UTC
- Video-LLaVA phase completion
- EventGPT phase startup
- Real-time metrics comparison

---

**Generated by:** Claude Code Benchmark Monitoring
**Last Updated:** 2026-01-23 23:10 UTC
